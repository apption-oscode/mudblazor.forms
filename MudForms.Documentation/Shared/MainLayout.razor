@*
    Copyright (c) 2021 Apption Corporation
*@

@inherits LayoutComponentBase


<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())"/>
        @if (!_drawerOpen)
        {
            <MudText Typo="Typo.h5" Class="ml-4">Model Form</MudText>
        }
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Elevation="2">
        <MudDrawerHeader>
            <MudStack Row>
                <MudImage Height="48" Src="/_content/MudForms.Documentation/img/Elemental_128x128.png"></MudImage>
                <MudText Typo="Typo.h5" Class="mt-1">
                    Model Form
                </MudText>
            </MudStack>
        </MudDrawerHeader>
        <MudNavMenu>
            @foreach (var linkData in _navLinks)
            {
                <MudNavLink Match="NavLinkMatch.All" Href="@linkData.To" Icon="@linkData.Icon">@linkData.Label</MudNavLink>
            }
        </MudNavMenu>
    </MudDrawer>
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-16 px-8">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }


    private struct MudNavLinkData
    {
        public string Label;
        public string To;
        public string Icon;
    }

    private List<MudNavLinkData> _navLinks = new()
    {
        new MudNavLinkData { Label = "Home", To = "/", Icon = Icons.Filled.Home },
        new MudNavLinkData { Label = "Basic Form", To = "/modelforms/basicform", Icon = Icons.Filled.DynamicForm },      
        new MudNavLinkData { Label = "Custom Labels", To = "/modelforms/customlabelsform", Icon = Icons.Filled.EditNote },
        new MudNavLinkData { Label = "Form With Categories", To = "/modelforms/formwithcategories", Icon = Icons.Filled.Category },
        new MudNavLinkData { Label = "Form With Outline", To = "/modelforms/formwithoutline", Icon = Icons.Filled.CheckBoxOutlineBlank },
        new MudNavLinkData { Label = "Interactive Form", To = "/modelforms/interactiveform", Icon = Icons.Filled.ChangeCircle },
        new MudNavLinkData { Label = "Flex Form", To = "/modelforms/flexform", Icon = Icons.Filled.Home },
        new MudNavLinkData { Label = "Flex Form with Categories", To = "/modelforms/flexformwithcategory", Icon = Icons.Filled.Home },
        new MudNavLinkData { Label = "Interactive Dropdowns", To = "/modelforms/interactivedropdowns", Icon = Icons.Filled.ArrowDropDownCircle },
        new MudNavLinkData { Label = "Interactive Dropdowns v2", To = "/modelforms/interactivedropdownsv2", Icon = Icons.Filled.ArrowDropDownCircle },
        new MudNavLinkData { Label = "Custom Validation", To = "/modelforms/customvalidationform", Icon = Icons.Filled.Home },
    };

}